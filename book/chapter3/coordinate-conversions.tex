%    File:    coordinate-conversions.tex
%    Author:  Marvin Smith
%    Date:    11/20/2015
%



%--------------------------------------------------%
%-       Start of Coordinate Conversions          -%
%--------------------------------------------------%
\addcontentsline{toc}{section}{Coordinate Conversions}
\section*{Coordinate Conversions}


%-------------------------------------%
%-       Simple GDAL Example         -%
%-------------------------------------%
\addcontentsline{toc}{subsection}{Geographic to UTM using GDAL}
\subsection*{Geographic to UTM using GDAL}

In this example, we will use GDAL to project Geographic coordinates to Universal Transverse
Mercator (UTM).  

Referring back to the UTM overview, in order to convert a Geographic coordinate
to UTM, we need to first compute the desired grid zone.  To accomplish this, we use
the following utility function. 

\lstinputlisting[language=C++,firstline=95,lastline=125]{../code/common/Coordinate_Utilities.cpp}

This is needed because GDAL/OGR requires you set the UTM Grid zone before converting to UTM.  
The reason for this is that you may need to cover a region which needs to span more than 1 UTM grid zone.
Each UTM zone has a different origin.

Once the grid zone is determined given the latitude and longitude, the rest is straightforward.  This example
assumes a WGS84 datum. 

\lstinputlisting[language=C++]{../code/chapter3/gdal-geographic-to-utm.cpp}


%----------------------------------%
%-      Simple MGRS Example       -%
%----------------------------------%
\addcontentsline{toc}{subsection}{Converting between UTM and MGRS using GeographicLib}
\subsection*{Converting between UTM and MGRS using GeographicLib}

In this example, we will convert between Universal Transverse Mercator (UTM) and the Military Grid Reference System (MGRS)
using GeographicLib. 

The key item in the GeographicLib package is the `MGRS` class.  This class has a Forward and Reverse 
transformation method, plus some getters in order to query ellpsoid parameters. 



\lstinputlisting[language=C++,firstline=20,lastline=66]{../code/chapter3/mgrs_to_utm.cpp}


